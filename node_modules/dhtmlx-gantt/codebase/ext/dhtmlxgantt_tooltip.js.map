{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/./sources/utils/utils.js","webpack://[name]/./sources/utils/dom_helpers.js","webpack://[name]/./sources/utils/dom_event_scope.js","webpack://[name]/./sources/utils/helpers.js","webpack://[name]/./sources/ext/tooltip/tooltip.ts","webpack://[name]/./sources/ext/tooltip/tooltipManager.ts","webpack://[name]/./sources/ext/tooltip/index.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","seed","helpers","copy","result","isDate","Date","isArray","Array","length","isStringObject","String","isNumberObject","Number","isBooleanObject","Boolean","constructor","toString","isCustomType","apply","defined","obj","mixin","target","source","force","f","undefined","uid","valueOf","functor","arguments","event","el","handler","capture","addEventListener","attachEvent","eventRemove","removeEventListener","detachEvent","elementPosition","elem","top","left","right","bottom","getBoundingClientRect","box","body","document","docElem","documentElement","parentNode","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","offsetWidth","offsetHeight","parseInt","offsetTop","offsetLeft","offsetParent","y","Math","round","x","width","height","isVisible","node","display","visibility","getComputedStyle","style","currentStyle","hasNonNegativeTabIndex","isNaN","getAttribute","hasHref","a","area","nodeName","loLowerCase","isEnabled","input","select","textarea","button","toLowerCase","hasAttribute","getClassName","className","baseVal","indexOf","_trimString","_slave","createElement","getTargetNode","e","tagName","srcElement","str","trim","this","replace","getNodePosition","getFocusableNodes","nodes","querySelectorAll","join","nodesArray","slice","splice","getScrollSize","div","cssText","appendChild","clientWidth","removeChild","addClassName","removeClassName","split","regEx","RegExp","insertNode","newone","innerHTML","child","firstChild","removeNode","getChildNodes","css","ch","childNodes","len","out","push","toNode","getElementById","querySelector","locateClassName","classname","strict","trg","ind","charAt","locateAttribute","attribute","getRelativeEventPosition","ev","clientX","clientY","isChildOf","parent","hasClass","element","classList","contains","test","closest","selector","matches","msMatchesSelector","webkitMatchesSelector","parentElement","nodeType","console","error","utils","createScope","addEvent","removeEvent","handlers","eventScope","attach","callback","detach","detachAll","staticArray","extend","scopes","units","second","minute","hour","day","week","month","quarter","year","getFullYear","getMonth","getDate","arrayFilter","arr","filter","getSecondsInUnit","unit","forEach","workArray","arrayMap","map","resArray","arrayFind","find","arrayDifference","item","arraySome","hashToArray","hash","sortArrayOfHash","field","desc","compare","b","sort","throttle","timeout","wait","setTimeout","pop","isValidDate","getTime","Function","delay","timer","$cancelTimeout","$pending","args","clearTimeout","$execute","objectKeys","keys","requestAnimationFrame","w","webkitRequestAnimationFrame","msRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","cb","isEventable","domHelpers","Tooltip","getNode","_tooltipNode","gantt","_waiAria","tooltipAttr","setViewport","_root","show","container","hide","_isLikeMouseEvent","position","_calculateTooltipPosition","tooltipVisibleAttr","tooltipHiddenAttr","setContent","html","_getViewPort","viewport","_getViewPortSize","tooltipNode","tooltip","offsetX","config","tooltip_offset_x","offsetY","tooltip_offset_y","mouse","containerPos","scrollY","pos","scrollX","$task_data","$task","domEventsScope","tooltip_1","TooltipManager","_listeners","_domEvents","_initDelayedFunctions","destructor","hideTooltip","delayHide","_this","global","$root","watchableTarget","eventTarget","targetNode","doOnMouseEnter","onmouseenter","onmousemove","onmouseleave","listener","tooltipFor","cloneDomEvent","clone","createEvent","delayShow","callEvent","tooltip_timeout","tooltip_hide_timeout","tooltipManager","ext","tooltips","task_attribute","touch","touch_tooltip","targetTaskId","locate","isTaskExists","task","getTask","templates","tooltip_text","start_date","end_date","getState","link_source_id"],"mappings":"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","file":"ext/dhtmlxgantt_tooltip.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ext/dhtmlxgantt_tooltip\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ext/dhtmlxgantt_tooltip\"] = factory();\n\telse\n\t\troot[\"ext/dhtmlxgantt_tooltip\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/codebase/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 225);\n","var helpers = require(\"./helpers\");\r\n\r\nfunction isCustomType(object){\r\n\tvar constructorString = object.constructor.toString();\r\n\tvar plainObjectConstructor = ({}).constructor.toString();\r\n\r\n\treturn constructorString !== plainObjectConstructor;\r\n}\r\n\r\nfunction copy(object) {\r\n\tvar i, result; // iterator, types array, result\r\n\r\n\tif (object && typeof object == \"object\") {\r\n\r\n\t\tswitch (true){\r\n\t\t\tcase (helpers.isDate(object)):\r\n\t\t\t\tresult = new Date(object);\r\n\t\t\t\tbreak;\r\n\t\t\tcase (helpers.isArray(object)):\r\n\t\t\t\tresult = new Array(object.length);\r\n\t\t\t\tfor(i = 0; i < object.length; i++){\r\n\t\t\t\t\tresult[i] = copy(object[i]);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase (helpers.isStringObject(object)):\r\n\t\t\t\tresult = new String(object);\r\n\t\t\t\tbreak;\r\n\t\t\tcase (helpers.isNumberObject(object)):\r\n\t\t\t\tresult = new Number(object);\r\n\t\t\t\tbreak;\r\n\t\t\tcase (helpers.isBooleanObject(object)):\r\n\t\t\t\tresult = new Boolean(object);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tif(isCustomType(object)){\r\n\t\t\t\t\tresult = Object.create(object);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tresult = {};\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (i in object) {\r\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.apply(object, [i]))\r\n\t\t\t\t\t\tresult[i] = copy(object[i]);\r\n\t\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\treturn result || object;\r\n}\r\n\r\nfunction mixin (target, source, force){\r\n\tfor (var f in source)\r\n\t\tif (((target[f] === undefined) || force)) target[f]=source[f];\r\n\treturn target;\r\n}\r\n\r\nfunction defined(obj) {\r\n\treturn typeof(obj) != \"undefined\";\r\n}\r\n\r\nvar seed;\r\nfunction uid() {\r\n\tif (!seed)\r\n\t\tseed = (new Date()).valueOf();\r\n\r\n\tseed++;\r\n\treturn seed;\r\n}\r\n\r\n//creates function with specified \"this\" pointer\r\nfunction bind(functor, object){\r\n\tif(functor.bind)\r\n\t\treturn functor.bind(object);\r\n\telse\r\n\t\treturn function(){ return functor.apply(object,arguments); };\r\n}\r\n\r\nfunction event(el, event, handler, capture){\r\n\tif (el.addEventListener)\r\n\t\tel.addEventListener(event, handler, capture === undefined ? false : capture);\r\n\r\n\telse if (el.attachEvent)\r\n\t\tel.attachEvent(\"on\"+event, handler);\r\n}\r\n\r\nfunction eventRemove(el, event, handler, capture){\r\n\tif (el.removeEventListener)\r\n\t\tel.removeEventListener(event, handler, capture === undefined ? false : capture);\r\n\r\n\telse if (el.detachEvent)\r\n\t\tel.detachEvent(\"on\"+event, handler);\r\n}\r\n\r\nmodule.exports = {\r\n\tcopy: copy,\r\n\tdefined: defined,\r\n\tmixin: mixin,\r\n\tuid: uid,\r\n\tbind: bind,\r\n\tevent: event,\r\n\teventRemove: eventRemove\r\n};","//returns position of html element on the page\r\nfunction elementPosition(elem) {\r\n\tvar top=0, left=0, right=0, bottom=0;\r\n\tif (elem.getBoundingClientRect) { //HTML5 method\r\n\t\tvar box = elem.getBoundingClientRect();\r\n\t\tvar body = document.body;\r\n\t\tvar docElem = (document.documentElement ||\r\n\t\t\tdocument.body.parentNode ||\r\n\t\t\tdocument.body);\r\n\r\n\t\tvar scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;\r\n\t\tvar scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\r\n\t\tvar clientTop = docElem.clientTop || body.clientTop || 0;\r\n\t\tvar clientLeft = docElem.clientLeft || body.clientLeft || 0;\r\n\t\ttop  = box.top +  scrollTop - clientTop;\r\n\t\tleft = box.left + scrollLeft - clientLeft;\r\n\r\n\t\tright = document.body.offsetWidth - box.right;\r\n\t\tbottom = document.body.offsetHeight - box.bottom;\r\n\t} else { //fallback to naive approach\r\n\t\twhile(elem) {\r\n\t\t\ttop = top + parseInt(elem.offsetTop,10);\r\n\t\t\tleft = left + parseInt(elem.offsetLeft,10);\r\n\t\t\telem = elem.offsetParent;\r\n\t\t}\r\n\r\n\t\tright = document.body.offsetWidth - elem.offsetWidth - left;\r\n\t\tbottom = document.body.offsetHeight - elem.offsetHeight - top;\r\n\t}\r\n\treturn { y: Math.round(top), x: Math.round(left), width:elem.offsetWidth, height:elem.offsetHeight, right: Math.round(right), bottom: Math.round(bottom) };\r\n}\r\n\r\nfunction isVisible(node){\r\n\tvar display = false,\r\n\t\tvisibility = false;\r\n\tif(window.getComputedStyle){\r\n\t\tvar style = window.getComputedStyle(node, null);\r\n\t\tdisplay = style[\"display\"];\r\n\t\tvisibility = style[\"visibility\"];\r\n\t}else if(node.currentStyle){\r\n\t\tdisplay = node.currentStyle[\"display\"];\r\n\t\tvisibility = node.currentStyle[\"visibility\"];\r\n\t}\r\n\treturn (display != \"none\" && visibility != \"hidden\");\r\n}\r\n\r\nfunction hasNonNegativeTabIndex(node){\r\n\treturn !isNaN(node.getAttribute(\"tabindex\")) && (node.getAttribute(\"tabindex\")*1 >= 0);\r\n}\r\n\r\nfunction hasHref(node){\r\n\tvar canHaveHref = {\"a\": true, \"area\": true};\r\n\tif(canHaveHref[node.nodeName.loLowerCase()]){\r\n\t\treturn !!node.getAttribute(\"href\");\r\n\t}\r\n\treturn true;\r\n}\r\n\r\nfunction isEnabled(node){\r\n\tvar canDisable = {\"input\":true, \"select\":true, \"textarea\":true, \"button\":true, \"object\":true};\r\n\tif(canDisable[node.nodeName.toLowerCase()]){\r\n\t\treturn !node.hasAttribute(\"disabled\");\r\n\t}\r\n\r\n\treturn true;\r\n}\r\n\r\nfunction getFocusableNodes(root){\r\n\tvar nodes = root.querySelectorAll([\r\n\t\t\"a[href]\",\r\n\t\t\"area[href]\",\r\n\t\t\"input\",\r\n\t\t\"select\",\r\n\t\t\"textarea\",\r\n\t\t\"button\",\r\n\t\t\"iframe\",\r\n\t\t\"object\",\r\n\t\t\"embed\",\r\n\t\t\"[tabindex]\",\r\n\t\t\"[contenteditable]\"\r\n\t].join(\", \"));\r\n\r\n\tvar nodesArray = Array.prototype.slice.call(nodes, 0);\r\n\tfor(var i = 0; i < nodesArray.length; i++){\r\n\t\tvar node = nodesArray[i];\r\n\t\tvar isValid = (hasNonNegativeTabIndex(node)  || isEnabled(node) || hasHref(node)) && isVisible(node);\r\n\t\tif(!isValid){\r\n\t\t\tnodesArray.splice(i, 1);\r\n\t\t\ti--;\r\n\t\t}\r\n\t}\r\n\treturn nodesArray;\r\n}\r\n\r\nfunction getScrollSize(){\r\n\tvar div = document.createElement(\"div\");\r\n\tdiv.style.cssText=\"visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;\";\r\n\r\n\tdocument.body.appendChild(div);\r\n\tvar width = div.offsetWidth-div.clientWidth;\r\n\tdocument.body.removeChild(div);\r\n\r\n\treturn width;\r\n}\r\n\r\nfunction getClassName(node){\r\n\tif(!node) return \"\";\r\n\r\n\tvar className = node.className || \"\";\r\n\tif(className.baseVal)//'className' exist but not a string - IE svg element in DOM\r\n\t\tclassName = className.baseVal;\r\n\r\n\tif(!className.indexOf)\r\n\t\tclassName = \"\";\r\n\r\n\treturn _trimString(className);\r\n}\r\n\r\nfunction addClassName(node, className){\r\n\tif (className && node.className.indexOf(className) === -1) {\r\n\t\tnode.className += \" \" + className;\r\n\t}\r\n}\r\n\r\nfunction removeClassName(node, name) {\r\n\tname = name.split(\" \");\r\n\tfor (var i = 0; i < name.length; i++) {\r\n\t\tvar regEx = new RegExp(\"\\\\s?\\\\b\" + name[i] + \"\\\\b(?![-_.])\", \"\");\r\n\t\tnode.className = node.className.replace(regEx, \"\");\r\n\t}\r\n}\r\n\r\nfunction hasClass(element, className){\r\n\tif ('classList' in element) {\r\n\t\treturn element.classList.contains(className);\r\n\t} else { \r\n\t\treturn new RegExp(\"\\\\b\" + className + \"\\\\b\").test(element.className);\r\n\t}\r\n}\r\n\r\nfunction toNode(node) {\r\n\tif (typeof node === \"string\") {\r\n\t\treturn (document.getElementById(node) || document.querySelector(node) || document.body);\r\n\t}\r\n\treturn node || document.body;\r\n}\r\n\r\nvar _slave = document.createElement(\"div\");\r\nfunction insert(node, newone) {\r\n\t_slave.innerHTML = newone;\r\n\tvar child = _slave.firstChild;\r\n\tnode.appendChild(child);\r\n\treturn child;\r\n}\r\n\r\nfunction remove(node) {\r\n\tif (node && node.parentNode) {\r\n\t\tnode.parentNode.removeChild(node);\r\n\t}\r\n}\r\n\r\nfunction getChildren(node, css) {\r\n\tvar ch = node.childNodes;\r\n\tvar len = ch.length;\r\n\tvar out = [];\r\n\tfor (var i = 0; i < len; i++) {\r\n\t\tvar obj = ch[i];\r\n\t\tif (obj.className && obj.className.indexOf(css) !== -1) {\r\n\t\t\tout.push(obj);\r\n\t\t}\r\n\t}\r\n\treturn out;\r\n}\r\n\r\nfunction getTargetNode(e){\r\n\tvar trg;\r\n\tif (e.tagName)\r\n\t\ttrg = e;\r\n\telse {\r\n\t\te=e||window.event;\r\n\t\ttrg=e.target||e.srcElement;\r\n\t}\r\n\treturn trg;\r\n}\r\n\r\nfunction locateAttribute(e, attribute) {\r\n\tif(!attribute) return;\r\n\r\n\tvar trg = getTargetNode(e);\r\n\r\n\twhile (trg){\r\n\t\tif (trg.getAttribute){\t//text nodes has not getAttribute\r\n\t\t\tvar test = trg.getAttribute(attribute);\r\n\t\t\tif (test) return trg;\r\n\t\t}\r\n\t\ttrg=trg.parentNode;\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nfunction _trimString(str){\r\n\tvar func = String.prototype.trim || function(){ return this.replace(/^\\s+|\\s+$/g, \"\"); };\r\n\treturn func.apply(str);\r\n}\r\n\r\nfunction locateClassName(e, classname, strict){\r\n\tvar trg = getTargetNode(e);\r\n\tvar css = \"\";\r\n\r\n\tif(strict === undefined)\r\n\t\tstrict = true;\r\n\r\n\twhile (trg){\r\n\t\tcss = getClassName(trg);\r\n\t\tif(css){\r\n\t\t\tvar ind = css.indexOf(classname);\r\n\t\t\tif (ind >= 0){\r\n\t\t\t\tif (!strict)\r\n\t\t\t\t\treturn trg;\r\n\r\n\t\t\t\t//check that we have exact match\r\n\t\t\t\tvar left = (ind === 0) || (!_trimString(css.charAt(ind - 1)));\r\n\t\t\t\tvar right = ((ind + classname.length >= css.length)) || (!_trimString(css.charAt(ind + classname.length)));\r\n\r\n\t\t\t\tif (left && right)\r\n\t\t\t\t\treturn trg;\r\n\t\t\t}\r\n\t\t}\r\n\t\ttrg=trg.parentNode;\r\n\t}\r\n\treturn null;\r\n}\r\n\r\n/*\r\nevent position relatively to DOM element\r\n */\r\nfunction getRelativeEventPosition(ev, node){\r\n\tvar d = document.documentElement;\r\n\tvar box = elementPosition(node);\r\n\r\n\treturn {\r\n\t\tx: ev.clientX + d.scrollLeft - d.clientLeft - box.x + node.scrollLeft,\r\n\t\ty: ev.clientY + d.scrollTop - d.clientTop - box.y + node.scrollTop\r\n\t};\r\n}\r\n\r\nfunction isChildOf(child, parent){\r\n\tif(!child || !parent){\r\n\t\treturn false;\r\n\t}\r\n\r\n\twhile(child && child != parent) {\r\n\t\tchild = child.parentNode;\r\n\t}\r\n\r\n\treturn child === parent;\r\n}\r\n\r\nfunction closest(element, selector){\r\n\tif(element.closest){\r\n\t\treturn element.closest(selector);\r\n\t}else if(element.matches || element.msMatchesSelector || element.webkitMatchesSelector){\r\n\t\tvar el = element;\r\n\t\tif (!document.documentElement.contains(el)) return null;\r\n\t\tdo {\r\n\t\t\tvar method = el.matches || el.msMatchesSelector || el.webkitMatchesSelector;\r\n\r\n\t\t\tif (method.call(el, selector)) return el;\r\n\t\t\tel = el.parentElement || el.parentNode;\r\n\t\t} while (el !== null && el.nodeType === 1); \r\n\t\treturn null;\r\n\t}else{\r\n\t\t// eslint-disable-next-line no-console\r\n\t\tconsole.error(\"Your browser is not supported\");\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nmodule.exports = {\r\n\tgetNodePosition: elementPosition,\r\n\tgetFocusableNodes: getFocusableNodes,\r\n\tgetScrollSize: getScrollSize,\r\n\tgetClassName: getClassName,\r\n\taddClassName: addClassName,\r\n\tremoveClassName: removeClassName,\r\n\tinsertNode: insert,\r\n\tremoveNode: remove,\r\n\tgetChildNodes: getChildren,\r\n\ttoNode: toNode,\r\n\tlocateClassName:locateClassName,\r\n\tlocateAttribute: locateAttribute,\r\n\tgetTargetNode: getTargetNode,\r\n\tgetRelativeEventPosition: getRelativeEventPosition,\r\n\tisChildOf: isChildOf,\r\n\thasClass: hasClass,\r\n\tclosest: closest\r\n};","var utils = require(\"./utils\");\r\n\r\nfunction createScope(addEvent, removeEvent) {\r\n\taddEvent = addEvent || utils.event;\r\n\tremoveEvent = removeEvent || utils.eventRemove;\r\n\r\n\tvar handlers = [];\r\n\r\n\tvar eventScope = {\r\n\t\tattach: function(el, event, callback, capture){\r\n\t\t\thandlers.push({element: el, event:event, callback: callback, capture: capture});\r\n\t\t\taddEvent(el, event, callback, capture);\r\n\t\t},\r\n\t\tdetach: function(el, event, callback, capture){\r\n\t\t\tremoveEvent(el, event, callback, capture);\r\n\t\t\tfor(var i = 0; i < handlers.length; i++){\r\n\t\t\t\tvar handler = handlers[i];\r\n\t\t\t\tif (handler.element === el && handler.event === event && handler.callback === callback && handler.capture === capture) {\r\n\t\t\t\t\thandlers.splice(i, 1);\r\n\t\t\t\t\ti--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tdetachAll: function () {\r\n\t\t\tvar staticArray = handlers.slice();\r\n\t\t\t// original handlers array can be spliced on every iteration\r\n\t\t\tfor (var i = 0; i < staticArray.length; i++){\r\n\t\t\t\tvar handler = staticArray[i];\r\n\t\t\t\teventScope.detach(handler.element, handler.event, handler.callback, handler.capture);\r\n\t\t\t\teventScope.detach(handler.element, handler.event, handler.callback, undefined);\r\n\t\t\t\teventScope.detach(handler.element, handler.event, handler.callback, false);\r\n\t\t\t\teventScope.detach(handler.element, handler.event, handler.callback, true);\r\n\t\t\t}\r\n\t\t\thandlers.splice(0, handlers.length);\r\n\t\t},\r\n\t\textend: function(){\r\n\t\t\treturn createScope(this.event, this.eventRemove);\r\n\t\t}\r\n\t};\r\n\r\n\tif (!window.scopes) {\r\n\t\twindow.scopes = [];\r\n\t}\r\n\twindow.scopes.push(handlers);\r\n\treturn eventScope;\r\n}\r\n\r\nmodule.exports = createScope;","var units = {\r\n\t\"second\": 1,\r\n\t\"minute\": 60,\r\n\t\"hour\": 60 * 60,\r\n\t\"day\": 60 * 60 * 24,\r\n\t\"week\": 60 * 60 * 24 * 7,\r\n\t\"month\": 60 * 60 * 24 * 30,\r\n\t\"quarter\": 60 * 60 * 24 * 30 * 3,\r\n\t\"year\": 60 * 60 * 24 * 365\r\n};\r\nfunction getSecondsInUnit(unit){\r\n\treturn units[unit] || units.hour;\r\n}\r\n\r\nfunction forEach(arr, callback) {\r\n\tif (arr.forEach) {\r\n\t\tarr.forEach(callback);\r\n\t} else {\r\n\t\tvar workArray = arr.slice();\r\n\t\tfor (var i = 0; i < workArray.length; i++) {\r\n\t\t\tcallback(workArray[i], i);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction arrayMap(arr, callback) {\r\n\tif (arr.map) {\r\n\t\treturn arr.map(callback);\r\n\t} else {\r\n\t\tvar workArray = arr.slice();\r\n\t\tvar resArray = [];\r\n\r\n\t\tfor (var i = 0; i < workArray.length; i++) {\r\n\t\t\tresArray.push(callback(workArray[i], i));\r\n\t\t}\r\n\t\treturn resArray;\r\n\t}\r\n}\r\n\r\n\r\nfunction arrayFind(arr, callback) {\r\n\tif (arr.find) {\r\n\t\treturn arr.find(callback);\r\n\t} else {\r\n\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\tif (callback(arr[i], i)) {\r\n\t\t\t\treturn arr[i];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// iframe-safe array type check instead of using instanceof\r\nfunction isArray(obj){\r\n\tif(Array.isArray){\r\n\t\treturn Array.isArray(obj);\r\n\t}else{\r\n\t\t// close enough\r\n\t\treturn (obj && obj.length !== undefined && obj.pop && obj.push);\r\n\t}\r\n}\r\n\r\n// non-primitive string object, e.g. new String(\"abc\")\r\nfunction isStringObject(obj){\r\n\treturn obj && typeof obj === \"object\"\r\n\t\t&& Function.prototype.toString.call(obj.constructor) === \"function String() { [native code] }\";\r\n}\r\n\r\n// non-primitive number object, e.g. new Number(5)\r\nfunction isNumberObject(obj){\r\n\treturn obj && typeof obj === \"object\"\r\n\t\t&& Function.prototype.toString.call(obj.constructor) === \"function Number() { [native code] }\";\r\n}\r\n\r\n// non-primitive number object, e.g. new Boolean(true)\r\nfunction isBooleanObject(obj){\r\n\treturn obj && typeof obj === \"object\"\r\n\t\t&& Function.prototype.toString.call(obj.constructor) === \"function Boolean() { [native code] }\";\r\n}\r\n\r\nfunction isDate(obj) {\r\n\tif (obj && typeof obj === \"object\") {\r\n\t\treturn !!(obj.getFullYear && obj.getMonth && obj.getDate);\r\n\t} else {\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nfunction isValidDate(obj){\r\n\treturn isDate(obj) && !isNaN(obj.getTime());\r\n}\r\n\r\nfunction arrayFilter(arr, callback) {\r\n\tvar result = [];\r\n\r\n\tif (arr.filter) {\r\n\t\treturn arr.filter(callback);\r\n\t} else {\r\n\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\tif (callback(arr[i], i)) {\r\n\t\t\t\tresult[result.length] = arr[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n}\r\n\r\nfunction hashToArray(hash) {\r\n\tvar result = [];\r\n\r\n\tfor (var key in hash) {\r\n\t\tif (hash.hasOwnProperty(key)) {\r\n\t\t\tresult.push(hash[key]);\r\n\t\t}\r\n\t}\r\n\r\n\treturn result;\r\n}\r\n\r\nfunction arraySome(arr, callback) {\r\n\tif (arr.length === 0) return false;\r\n\r\n\tfor (var i = 0; i < arr.length; i++) {\r\n\t\tif (callback(arr[i], i, arr)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nfunction arrayDifference(arr, callback) {\r\n\treturn arrayFilter(arr, function(item, i) {\r\n\t\treturn !callback(item, i);\r\n\t});\r\n}\r\n\r\nfunction throttle (callback, timeout) {\r\n\tvar wait = false;\r\n\r\n\treturn function () {\r\n\t\tif (!wait) {\r\n\t\t\tcallback.apply(null, arguments);\r\n\t\t\twait = true;\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\twait = false;\r\n\t\t\t}, timeout);\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction delay (callback, timeout){\r\n\tvar timer;\r\n\r\n\tvar result = function() {\r\n\t\tresult.$cancelTimeout();\r\n\t\tcallback.$pending = true;\r\n\t\tvar args = Array.prototype.slice.call(arguments);\r\n\t\ttimer = setTimeout(function(){\r\n\t\t\tcallback.apply(this, args);\r\n\t\t\tresult.$pending = false;\r\n\t\t}, timeout);\r\n\t};\r\n\t\r\n\tresult.$pending = false;\r\n\tresult.$cancelTimeout = function(){\r\n\t\tclearTimeout(timer);\r\n\t\tcallback.$pending = false;\r\n\t};\r\n\tresult.$execute = function(){\r\n\t\tcallback();\r\n\t\tcallback.$cancelTimeout();\r\n\t};\r\n\r\n\treturn result;\r\n}\r\n\r\nfunction sortArrayOfHash(arr, field, desc) {\r\n\tvar compare = function(a, b) {\r\n\t\treturn a < b;\r\n\t};\r\n\r\n\tarr.sort(function(a, b) {\r\n\t\tif (a[field] === b[field]) return 0;\r\n\r\n\t\treturn desc ? compare(a[field], b[field]) : compare(b[field], a[field]);\r\n\t});\r\n}\r\n\r\nfunction objectKeys(obj) {\r\n\tif (Object.keys) {\r\n\t\treturn Object.keys(obj);\r\n\t}\r\n\tvar result = [];\r\n\tvar key;\r\n\tfor (key in obj) {\r\n\t\tif (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n\t\t\tresult.push(key);\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nfunction requestAnimationFrame(callback) {\r\n\tvar w = window;\r\n\tvar foundRequestAnimationFrame = w.requestAnimationFrame\r\n\t\t|| w.webkitRequestAnimationFrame\r\n\t\t|| w.msRequestAnimationFrame\r\n\t\t|| w.mozRequestAnimationFrame\r\n\t\t|| w.oRequestAnimationFrame\r\n\t\t|| function(cb) { setTimeout(cb, 1000/60); };\r\n\treturn foundRequestAnimationFrame(callback);\r\n}\r\n\r\nfunction isEventable(obj) {\r\n\treturn obj.attachEvent && obj.detachEvent;\r\n}\r\n\r\nmodule.exports = {\r\n\tgetSecondsInUnit: getSecondsInUnit,\r\n\tforEach: forEach,\r\n\tarrayMap: arrayMap,\r\n\tarrayFind: arrayFind,\r\n\tarrayFilter: arrayFilter,\r\n\tarrayDifference: arrayDifference,\r\n\tarraySome: arraySome,\r\n\thashToArray: hashToArray,\r\n\tsortArrayOfHash: sortArrayOfHash,\r\n\tthrottle: throttle,\r\n\tisArray: isArray,\r\n\tisDate: isDate,\r\n\tisValidDate: isValidDate,\r\n\tisStringObject: isStringObject,\r\n\tisNumberObject: isNumberObject,\r\n\tisBooleanObject: isBooleanObject,\r\n\tdelay: delay,\r\n\tobjectKeys: objectKeys,\r\n\trequestAnimationFrame: requestAnimationFrame,\r\n\tisEventable: isEventable\r\n};","import * as domHelpers from \"../../utils/dom_helpers\";\r\n\r\ndeclare var gantt: any;\r\n\r\ninterface IViewPosition{\r\n\ttop: number;\r\n\tleft: number;\r\n}\r\n\r\ninterface IViewBox extends IViewPosition{\r\n\twidth: number;\r\n\theight: number;\r\n\tbottom: number;\r\n\tright: number;\r\n}\r\n\r\nexport class Tooltip {\r\n\tprivate _root: HTMLElement;\r\n\tprivate _tooltipNode: HTMLElement;\r\n\r\n\tgetNode() : HTMLElement {\r\n\t\tif (!this._tooltipNode){\r\n\t\t\tthis._tooltipNode = document.createElement(\"div\");\r\n\t\t\tthis._tooltipNode.className = \"gantt_tooltip\";\r\n\t\t\tgantt._waiAria.tooltipAttr(this._tooltipNode);\r\n\t\t}\r\n\t\treturn this._tooltipNode;\r\n\t}\r\n\r\n\tsetViewport(node: HTMLElement):Tooltip{\r\n\t\tthis._root = node;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tshow(left: number, top: number): Tooltip;\r\n\tshow(event: MouseEvent): Tooltip;\r\n\tshow(left: number | MouseEvent, top?: number): Tooltip {\r\n\t\tconst container = document.body;\r\n\t\tconst node = this.getNode();\r\n\r\n\t\tif(!domHelpers.isChildOf(node, container)){\r\n\t\t\tthis.hide();\r\n\t\t\tcontainer.appendChild(node);\r\n\t\t}\r\n\r\n\t\tif (this._isLikeMouseEvent(left)) {\r\n\t\t\tconst position = this._calculateTooltipPosition(left as MouseEvent);\r\n\t\t\ttop = position.top;\r\n\t\t\tleft = position.left;\r\n\t\t}\r\n\r\n\t\tnode.style.top = top + \"px\";\r\n\t\tnode.style.left = left + \"px\";\r\n\r\n\t\tgantt._waiAria.tooltipVisibleAttr(node);\r\n\t\treturn this;\r\n\t}\r\n\thide() : Tooltip{\r\n\t\tconst node = this.getNode();\r\n\t\tif(node && node.parentNode){\r\n\t\t\tnode.parentNode.removeChild(node);\r\n\t\t}\r\n\t\tgantt._waiAria.tooltipHiddenAttr(node);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tsetContent(html: string) : Tooltip{\r\n\t\tconst node = this.getNode();\r\n\t\tnode.innerHTML = html;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t// it is for salesforce, because it proxies event to it own events\r\n\tprivate _isLikeMouseEvent(event: any): boolean {\r\n\t\tif (!event || typeof event !== \"object\") {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn \"clientX\" in event && \"clientY\" in event;\r\n\t}\r\n\r\n\tprivate _getViewPort() : HTMLElement {\r\n\t\treturn this._root || document.body;\r\n\t}\r\n\r\n\r\n\tprivate _calculateTooltipPosition(event: MouseEvent): IViewPosition{\r\n\r\n\t\t// top/left coordinates inside the viewport by mouse position\r\n\t\tconst viewport =  this._getViewPortSize();\r\n\t\tconst tooltipNode = this.getNode();\r\n\t\tconst tooltip: IViewBox = {\r\n\t\t\ttop:0,\r\n\t\t\tleft: 0,\r\n\t\t\twidth: tooltipNode.offsetWidth,\r\n\t\t\theight: tooltipNode.offsetHeight,\r\n\t\t\tbottom: 0,\r\n\t\t\tright: 0\r\n\t\t};\r\n\r\n\t\tconst offsetX = gantt.config.tooltip_offset_x;\r\n\t\tconst offsetY = gantt.config.tooltip_offset_y;\r\n\r\n\t\tconst container = document.body;\r\n\t\tconst mouse = domHelpers.getRelativeEventPosition(event, container);\r\n\t\tconst containerPos = domHelpers.getNodePosition(container);\r\n\t\tmouse.y += containerPos.y; // to fix margin collapsing\r\n\r\n\t\ttooltip.top = mouse.y;\r\n\t\ttooltip.left = mouse.x;\r\n\t\ttooltip.top += offsetY;\r\n\t\ttooltip.left += offsetX;\r\n\t\ttooltip.bottom = tooltip.top + tooltip.height;\r\n\t\ttooltip.right = tooltip.left + tooltip.width;\r\n\r\n\t\tconst scrollTop = window.scrollY + container.scrollTop; // to fix margin collapsing\r\n\t\t// edge cases when the tooltip element can be partially hidden by edges of the viewport\r\n\t\tif(tooltip.top < viewport.top - scrollTop){\r\n\t\t\ttooltip.top = viewport.top;\r\n\t\t\ttooltip.bottom = tooltip.top + tooltip.height;\r\n\t\t}else if(tooltip.bottom > viewport.bottom){\r\n\t\t\ttooltip.bottom = viewport.bottom;\r\n\t\t\ttooltip.top = tooltip.bottom - tooltip.height;\r\n\t\t}\r\n\r\n\t\tif(tooltip.left < viewport.left){\r\n\t\t\ttooltip.left = viewport.left;\r\n\t\t\ttooltip.right = viewport.left + tooltip.width;\r\n\t\t}else if(tooltip.right > viewport.right){\r\n\t\t\ttooltip.right = viewport.right;\r\n\t\t\ttooltip.left = tooltip.right - tooltip.width;\r\n\t\t}\r\n\r\n\t\tif(mouse.x >= tooltip.left && mouse.x <= tooltip.right) {\r\n\t\t\ttooltip.left = mouse.x - tooltip.width - offsetX;\r\n\t\t\ttooltip.right = tooltip.left + tooltip.width;\r\n\t\t}\r\n\r\n\t\tif(mouse.y >= tooltip.top && mouse.y <= tooltip.bottom) {\r\n\t\t\ttooltip.top = mouse.y - tooltip.height - offsetY;\r\n\t\t\ttooltip.bottom = tooltip.top + tooltip.height;\r\n\t\t}\r\n\r\n\t\treturn tooltip;\r\n\t}\r\n\r\n\tprivate _getViewPortSize() : IViewBox {\r\n\t\tconst container = this._getViewPort();\r\n\t\tlet viewport = container;\r\n\t\tlet scrollTop = window.scrollY + document.body.scrollTop;\r\n\t\tlet scrollLeft = window.scrollX + document.body.scrollLeft;\r\n\t\tlet pos;\r\n\t\t// support for the initial tooltip mode where the tooltip element was attached to the data area of gantt\r\n\t\tif(container === gantt.$task_data){\r\n\t\t\tviewport = gantt.$task;\r\n\t\t\tscrollTop = 0;\r\n\t\t\tscrollLeft = 0;\r\n\t\t\tpos = domHelpers.getNodePosition(gantt.$task);\r\n\t\t}else{\r\n\t\t\tpos = domHelpers.getNodePosition(viewport);\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tleft:pos.x + scrollLeft,\r\n\t\t\ttop: pos.y + scrollTop,\r\n\t\t\twidth: pos.width,\r\n\t\t\theight: pos.height,\r\n\t\t\tbottom: pos.y + pos.height + scrollTop,\r\n\t\t\tright: pos.x + pos.width + scrollLeft\r\n\t\t};\r\n\t}\r\n}\r\n","import * as domEventsScope from \"../../utils/dom_event_scope\";\r\nimport * as domHelpers from \"../../utils/dom_helpers\";\r\nimport * as helpers from \"../../utils/helpers\";\r\nimport { Tooltip } from \"./tooltip\";\r\n\r\ninterface ITrackerTarget {\r\n\tselector: string;\r\n\tonmouseenter: (event: MouseEvent, node: HTMLElement) => void;\r\n\tonmousemove: (event: MouseEvent, node: HTMLElement) => void;\r\n\tonmouseleave: (event: MouseEvent, node: HTMLElement) => void;\r\n\tglobal: boolean;\r\n}\r\n\r\ninterface ITooltipConfig {\r\n\tselector: string;\r\n\thtml: (event: MouseEvent, node: HTMLElement) => string;\r\n\tglobal: boolean;\r\n}\r\n\r\ndeclare var gantt:any;\r\n\r\nexport class TooltipManager{\r\n\ttooltip: Tooltip = new Tooltip();\r\n\tprotected _domEvents: any;\r\n\tprivate _listeners: object = {};\r\n\tprivate delayShow: any;\r\n\tprivate delayHide: any;\r\n\r\n\tconstructor() {\r\n\t\tthis._domEvents = domEventsScope();\r\n\t\tthis._initDelayedFunctions();\r\n\t}\r\n\r\n\tdestructor(): void{\r\n\t\tthis.tooltip.hide();\r\n\t\tthis._domEvents.detachAll();\r\n\t}\r\n\thideTooltip(): void{\r\n\t\tthis.delayHide();\r\n\t}\r\n\tattach(config: ITrackerTarget): void {\r\n\t\tlet root = document.body;\r\n\t\tif(!config.global){\r\n\t\t\troot = gantt.$root;\r\n\t\t}\r\n\r\n\t\tlet watchableTarget = null;\r\n\t\tconst handler = (event) => {\r\n\t\t\tconst eventTarget = domHelpers.getTargetNode(event);\r\n\t\t\tconst targetNode = domHelpers.closest(eventTarget, config.selector);\r\n\t\t\tif(domHelpers.isChildOf(eventTarget, this.tooltip.getNode())){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst doOnMouseEnter = () => {\r\n\t\t\t\twatchableTarget = targetNode;\r\n\t\t\t\tconfig.onmouseenter(event, targetNode);\r\n\t\t\t};\r\n\r\n\t\t\tif(watchableTarget){\r\n\t\t\t\tif(targetNode && targetNode === watchableTarget){\r\n\t\t\t\t\tconfig.onmousemove(event, targetNode);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tconfig.onmouseleave(event, watchableTarget);\r\n\t\t\t\t\twatchableTarget = null;\r\n\r\n\t\t\t\t\tif(targetNode && targetNode !== watchableTarget){\r\n\t\t\t\t\t\tdoOnMouseEnter();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tif(targetNode){\r\n\t\t\t\t\tdoOnMouseEnter();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.detach(config.selector);\r\n\t\tthis._domEvents.attach(root, \"mousemove\", handler);\r\n\t\tthis._listeners[config.selector] = {\r\n\t\t\tnode: root,\r\n\t\t\thandler\r\n\t\t};\r\n\t}\r\n\r\n\tdetach(selector: string): void {\r\n\t\tconst listener = this._listeners[selector];\r\n\t\tif(listener){\r\n\t\t\tthis._domEvents.detach(listener.node, \"mousemove\", listener.handler);\r\n\t\t}\r\n\t}\r\n\r\n\ttooltipFor(config: ITooltipConfig): void {\r\n\t\tconst cloneDomEvent = (event: MouseEvent) => {\r\n\t\t\tlet clone = event;\r\n\t\t\t// making events survive timeout in ie\r\n\t\t\t// tslint:disable-next-line no-string-literal\r\n\t\t\tif(document[\"createEventObject\"] && !document.createEvent){\r\n\t\t\t\t// tslint:disable-next-line no-string-literal\r\n\t\t\t\tclone = document[\"createEventObject\"](event);\r\n\t\t\t}\r\n\t\t\treturn clone;\r\n\t\t};\r\n\t\tthis._initDelayedFunctions();\r\n\t\tthis.attach({\r\n\t\t\tselector: config.selector,\r\n\t\t\tglobal: config.global,\r\n\t\t\tonmouseenter:(event: MouseEvent, node: HTMLElement) => {\r\n\t\t\t\tconst html = config.html(event, node);\r\n\t\t\t\tif(html){\r\n\t\t\t\t\tthis.delayShow(cloneDomEvent(event), html);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonmousemove:(event: MouseEvent, node: HTMLElement) => {\r\n\t\t\t\tconst html = config.html(event, node);\r\n\t\t\t\tif(html){\r\n\t\t\t\t\tthis.delayShow(cloneDomEvent(event), html);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.delayShow.$cancelTimeout();\r\n\t\t\t\t\tthis.delayHide();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonmouseleave:() => {\r\n\t\t\t\tthis.delayShow.$cancelTimeout();\r\n\t\t\t\tthis.delayHide();\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tprivate _initDelayedFunctions(){\r\n\t\t// reset delayed functions in order to apply current values of tooltip_timeout\r\n\t\tif(this.delayShow){\r\n\t\t\tthis.delayShow.$cancelTimeout();\r\n\t\t}\r\n\t\tif(this.delayHide){\r\n\t\t\tthis.delayHide.$cancelTimeout();\r\n\t\t}\r\n\t\tthis.tooltip.hide();\r\n\r\n\t\tthis.delayShow = helpers.delay((event: MouseEvent, html: string) => {\r\n\t\t\tif(gantt.callEvent(\"onBeforeTooltip\", [event]) === false) {\r\n\t\t\t\tthis.tooltip.hide();\r\n\t\t\t} else {\r\n\t\t\t\tthis.tooltip.setContent(html);\r\n\t\t\t\tthis.tooltip.show(event);\r\n\t\t\t}\r\n\t\t}, gantt.config.tooltip_timeout || 1);\r\n\r\n\t\tthis.delayHide = helpers.delay(() => {\r\n\t\t\tthis.delayShow.$cancelTimeout();\r\n\t\t\tthis.tooltip.hide();\r\n\t\t}, gantt.config.tooltip_hide_timeout || 1);\r\n\t}\r\n\r\n}","declare var gantt;\r\n\r\ngantt.config.tooltip_timeout = 30;\r\ngantt.config.tooltip_offset_y = 20;\r\ngantt.config.tooltip_offset_x = 10;\r\ngantt.config.tooltip_hide_timeout = 30;\r\n\r\nimport {TooltipManager} from \"./tooltipManager\";\r\n\r\nconst tooltipManager = new TooltipManager();\r\n\r\ngantt.ext.tooltips = tooltipManager;\r\n\r\ngantt.attachEvent(\"onGanttReady\", function(){\r\n\r\n\ttooltipManager.tooltipFor({\r\n\t\tselector: \"[\"+gantt.config.task_attribute+\"]:not(.gantt_task_row)\",\r\n\t\thtml: (event: MouseEvent) => {\r\n\t\t\tif (gantt.config.touch && !gantt.config.touch_tooltip) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst targetTaskId = gantt.locate(event);\r\n\t\t\tif(gantt.isTaskExists(targetTaskId)){\r\n\t\t\t\tconst task = gantt.getTask(targetTaskId);\r\n\t\t\t\treturn gantt.templates.tooltip_text(task.start_date, task.end_date, task);\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\tglobal: false\r\n\t});\r\n});\r\n\r\ngantt.attachEvent(\"onDestroy\", function() {\r\n\ttooltipManager.destructor();\r\n});\r\n\r\ngantt.attachEvent(\"onLightbox\", function() {\r\n\ttooltipManager.hideTooltip();\r\n});\r\nconst isLinkCreate = () => {\r\n\tconst state = gantt.getState();\r\n\treturn !!state.link_source_id;\r\n};\r\ngantt.attachEvent(\"onBeforeTooltip\", function() {\r\n\tif (isLinkCreate()){\r\n\t\treturn false;\r\n\t}\r\n});\r\n\r\ngantt.attachEvent(\"onGanttScroll\", function(){\r\n\ttooltipManager.hideTooltip();\r\n});\r\n"],"sourceRoot":""}